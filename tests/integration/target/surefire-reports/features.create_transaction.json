[{"line":1,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url apiURL","result":{"duration":72838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"url apiURL","result":{"duration":30633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":8},{"name":"path \"\/account\/12345\"","result":{"duration":3891566,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":9},{"name":"method GET","result":{"duration":251747010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"18:23:27.929 request:\n1 > GET http:\/\/localhost:8098\/snapfi\/account\/12345\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: localhost:8098\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n\n18:23:27.952 response time in milliseconds: 20.11\n1 < 200\n1 < Content-Length: 176\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Fri, 03 Feb 2023 21:23:27 GMT\n{\"account_id\":\"12345\",\"bank\":\"10\",\"number\":\"10\",\"agency\":\"9\",\"balance\":10000029,\"created_at\":\"2023-02-03T16:39:31.078441-03:00\",\"updated_at\":\"2023-02-03T17:56:43.945698-03:00\"}","line":10}},{"name":"assert responseStatus == 200","result":{"duration":5948460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11},{"name":"def intermediaryAccount = response","result":{"duration":125636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def intermediaryAccountBalanceBefore = intermediaryAccount.balance","result":{"duration":10427726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def account =","result":{"duration":245105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17,"doc_string":{"content_type":"","value":"{\n    \"bank\": \"11\",\n    \"number\": \"11\",\n    \"agency\": \"1\",\n    \"balance\": 100\n}","line":17}},{"name":"url apiURL","result":{"duration":18848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":27},{"name":"path \"\/account\"","result":{"duration":3384302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request account","result":{"duration":48043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"method POST","result":{"duration":12076587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":30,"doc_string":{"content_type":"","value":"18:23:27.981 request:\n2 > POST http:\/\/localhost:8098\/snapfi\/account\n2 > Accept-Encoding: gzip,deflate\n2 > Connection: Keep-Alive\n2 > Content-Length: 54\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Host: localhost:8098\n2 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n{\"bank\":\"11\",\"number\":\"11\",\"agency\":\"1\",\"balance\":100}\n\n18:23:27.987 response time in milliseconds: 4.93\n2 < 201\n2 < Content-Length: 202\n2 < Content-Type: application\/json; charset=utf-8\n2 < Date: Fri, 03 Feb 2023 21:23:27 GMT\n{\"account_id\":\"bb34c8d6-beca-4724-898a-199c93b88594\",\"bank\":\"11\",\"number\":\"11\",\"agency\":\"1\",\"balance\":100,\"created_at\":\"2023-02-03T18:23:27.983238-03:00\",\"updated_at\":\"2023-02-03T18:23:27.983238-03:00\"}","line":30}},{"name":"assert responseStatus == 201","result":{"duration":5677802,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":31},{"name":"def originAccount = response","result":{"duration":64547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def originAccountBalanceBefore = response.balance","result":{"duration":4915962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"def account =","result":{"duration":220005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37,"doc_string":{"content_type":"","value":"{\n    \"bank\": \"22\",\n    \"number\": \"22\",\n    \"agency\": \"2\",\n    \"balance\": 100\n}","line":37}},{"name":"url apiURL","result":{"duration":32805,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":47},{"name":"path \"\/account\"","result":{"duration":248449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"request account","result":{"duration":30666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49},{"name":"method POST","result":{"duration":7298220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":50,"doc_string":{"content_type":"","value":"18:23:28.002 request:\n3 > POST http:\/\/localhost:8098\/snapfi\/account\n3 > Accept-Encoding: gzip,deflate\n3 > Connection: Keep-Alive\n3 > Content-Length: 54\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Host: localhost:8098\n3 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n{\"bank\":\"22\",\"number\":\"22\",\"agency\":\"2\",\"balance\":100}\n\n18:23:28.007 response time in milliseconds: 3.99\n3 < 201\n3 < Content-Length: 202\n3 < Content-Type: application\/json; charset=utf-8\n3 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n{\"account_id\":\"2e661f8a-e9df-4e9f-800d-dc663683e47e\",\"bank\":\"22\",\"number\":\"22\",\"agency\":\"2\",\"balance\":100,\"created_at\":\"2023-02-03T18:23:28.003756-03:00\",\"updated_at\":\"2023-02-03T18:23:28.003756-03:00\"}","line":50}},{"name":"assert responseStatus == 201","result":{"duration":422418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":51},{"name":"def destinationAccount = response","result":{"duration":58964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"def destinationAccountBalanceBefore = response.balance","result":{"duration":586561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54}]},{"line":57,"name":"should create transaction sucessfully","description":"","id":"should-create-transaction-sucessfully","type":"scenario","keyword":"Scenario","steps":[{"name":"def transactionAmount = 10","result":{"duration":3507997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":67},{"name":"def transaction =","result":{"duration":10804471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":68,"doc_string":{"content_type":"","value":"{\n    \"transaction_type\": \"PIX_OUT\",\n    \"origin_account_id\": \"#(originAccount.account_id)\",\n    \"destination_account_id\": \"#(destinationAccount.account_id)\",\n    \"value\": 10\n}","line":68}},{"name":"url apiURL","result":{"duration":22168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":78},{"name":"path \"\/transactions\"","result":{"duration":3650514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":79},{"name":"request transaction","result":{"duration":20602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":80},{"name":"method POST","result":{"duration":13541004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":81,"doc_string":{"content_type":"","value":"18:23:28.030 request:\n4 > POST http:\/\/localhost:8098\/snapfi\/transactions\n4 > Accept-Encoding: gzip,deflate\n4 > Connection: Keep-Alive\n4 > Content-Length: 164\n4 > Content-Type: application\/json; charset=UTF-8\n4 > Host: localhost:8098\n4 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n{\"transaction_type\":\"PIX_OUT\",\"origin_account_id\":\"bb34c8d6-beca-4724-898a-199c93b88594\",\"destination_account_id\":\"2e661f8a-e9df-4e9f-800d-dc663683e47e\",\"value\":10}\n\n18:23:28.042 response time in milliseconds: 10.69\n4 < 201\n4 < Content-Length: 310\n4 < Content-Type: application\/json; charset=utf-8\n4 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n{\"transaction_id\":\"80e90e0a-bd84-4615-8fe6-fe128ea25c0f\",\"type\":\"PIX_OUT\",\"origin_account_id\":\"bb34c8d6-beca-4724-898a-199c93b88594\",\"destination_account_id\":\"2e661f8a-e9df-4e9f-800d-dc663683e47e\",\"value\":10,\"created_at\":\"2023-02-03T18:23:28.034864152-03:00\",\"updated_at\":\"2023-02-03T18:23:28.034864266-03:00\"}","line":81}},{"name":"assert responseStatus == 201","result":{"duration":519427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":82},{"name":"def transactionID = response.transaction_id","result":{"duration":6215212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":84},{"name":"url apiURL","result":{"duration":27854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":86},{"name":"path \"\/transaction_status\"","result":{"duration":4088413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":87},{"name":"param transaction_id = transactionID","result":{"duration":72633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":88},{"name":"method GET","result":{"duration":5520582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":89,"doc_string":{"content_type":"","value":"18:23:28.056 request:\n5 > GET http:\/\/localhost:8098\/snapfi\/transaction_status?transaction_id=80e90e0a-bd84-4615-8fe6-fe128ea25c0f\n5 > Accept-Encoding: gzip,deflate\n5 > Connection: Keep-Alive\n5 > Host: localhost:8098\n5 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n\n18:23:28.059 response time in milliseconds: 2.11\n5 < 200\n5 < Content-Length: 232\n5 < Content-Type: application\/json; charset=utf-8\n5 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n{\"transaction_status_id\":\"03370d7c-b563-4f04-baa0-b9f87cd24cd4\",\"status\":\"OPEN\",\"transaction_id\":\"80e90e0a-bd84-4615-8fe6-fe128ea25c0f\",\"created_at\":\"2023-02-03T18:23:28.035743-03:00\",\"updated_at\":\"2023-02-03T18:23:28.035744-03:00\"}","line":89}},{"name":"assert responseStatus == 200","result":{"duration":481617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":90},{"name":"assert response.status == \"OPEN\"","result":{"duration":13197500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":91},{"name":"url apiURL","result":{"duration":21274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":93},{"name":"path \"\/balance_provisions\"","result":{"duration":4255823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":94},{"name":"param transaction_id = transactionID","result":{"duration":60223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":95},{"name":"method GET","result":{"duration":5823540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":96,"doc_string":{"content_type":"","value":"18:23:28.082 request:\n6 > GET http:\/\/localhost:8098\/snapfi\/balance_provisions?transaction_id=80e90e0a-bd84-4615-8fe6-fe128ea25c0f\n6 > Accept-Encoding: gzip,deflate\n6 > Connection: Keep-Alive\n6 > Host: localhost:8098\n6 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n\n18:23:28.085 response time in milliseconds: 2.00\n6 < 200\n6 < Content-Length: 370\n6 < Content-Type: application\/json; charset=utf-8\n6 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n[{\"provision_id\":\"1c2a6e99-1805-47ba-ba75-ac74798ad4a6\",\"value\":10,\"origin_account_id\":\"bb34c8d6-beca-4724-898a-199c93b88594\",\"destination_account_id\":\"2e661f8a-e9df-4e9f-800d-dc663683e47e\",\"type\":\"ADD\",\"status\":\"OPEN\",\"transaction_id\":\"80e90e0a-bd84-4615-8fe6-fe128ea25c0f\",\"created_at\":\"2023-02-03T18:23:28.03848-03:00\",\"updated_at\":\"2023-02-03T18:23:28.03848-03:00\"}]","line":96}},{"name":"assert responseStatus == 200","result":{"duration":308781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":97},{"name":"assert response.length == 1","result":{"duration":10505378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":98},{"name":"assert response[0].type == \"ADD\"","result":{"duration":17003452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":99},{"name":"assert response[0].status == \"OPEN\"","result":{"duration":9215863,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":100},{"name":"url apiURL","result":{"duration":29657,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":103},{"name":"path \"\/account\/\" + originAccount.account_id","result":{"duration":6236375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":104},{"name":"method GET","result":{"duration":4792729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":105,"doc_string":{"content_type":"","value":"18:23:28.132 request:\n7 > GET http:\/\/localhost:8098\/snapfi\/account\/bb34c8d6-beca-4724-898a-199c93b88594\n7 > Accept-Encoding: gzip,deflate\n7 > Connection: Keep-Alive\n7 > Host: localhost:8098\n7 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n\n18:23:28.134 response time in milliseconds: 1.59\n7 < 200\n7 < Content-Length: 201\n7 < Content-Type: application\/json; charset=utf-8\n7 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n{\"account_id\":\"bb34c8d6-beca-4724-898a-199c93b88594\",\"bank\":\"11\",\"number\":\"11\",\"agency\":\"1\",\"balance\":90,\"created_at\":\"2023-02-03T18:23:27.983238-03:00\",\"updated_at\":\"2023-02-03T18:23:28.036661-03:00\"}","line":105}},{"name":"assert responseStatus == 200","result":{"duration":357482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":106},{"name":"assert response.balance ==  (originAccountBalanceBefore - transactionAmount)","result":{"duration":8079756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":107},{"name":"url apiURL","result":{"duration":28437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":110},{"name":"path \"\/account\/12345\"","result":{"duration":164961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":111},{"name":"method GET","result":{"duration":4786348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":112,"doc_string":{"content_type":"","value":"18:23:28.146 request:\n8 > GET http:\/\/localhost:8098\/snapfi\/account\/12345\n8 > Accept-Encoding: gzip,deflate\n8 > Connection: Keep-Alive\n8 > Host: localhost:8098\n8 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/11.0.15)\n\n18:23:28.149 response time in milliseconds: 2.26\n8 < 200\n8 < Content-Length: 176\n8 < Content-Type: application\/json; charset=utf-8\n8 < Date: Fri, 03 Feb 2023 21:23:28 GMT\n{\"account_id\":\"12345\",\"bank\":\"10\",\"number\":\"10\",\"agency\":\"9\",\"balance\":10000039,\"created_at\":\"2023-02-03T16:39:31.078441-03:00\",\"updated_at\":\"2023-02-03T18:23:28.037686-03:00\"}","line":112}},{"name":"assert responseStatus == 200","result":{"duration":221808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":113},{"name":"assert response.balance ==  (intermediaryAccountBalanceBefore + transactionAmount)","result":{"duration":6739085,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":114}],"tags":[{"name":"@CreateTransaction","line":56}]}],"name":"features\/create_transaction.feature","description":"Create Transaction","id":"create-transaction","keyword":"Feature","uri":"features\/create_transaction.feature"}]